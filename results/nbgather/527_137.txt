def g(x):
    return sin(x)/(x**2+4*x+3)
dg = diff(g(x),4)
dg = diff(g(x),x,4)
collect(expand(dg),[cos(x),sin(x)])
factor(collect(expand(dg),[cos(x),sin(x)]))
factor(dg)
factor(dg)
collect(factor(dg),[cos(x),sin(x)])
rcollect(factor(dg),[cos(x),sin(x)])
collect(factor(dg),[cos(x),sin(x)])
expr = collect(factor(dg),[cos(x),sin(x)])
expr*denom(expr)
pprint(expr*denom(expr))